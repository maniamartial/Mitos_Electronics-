{"ast":null,"code":"import _objectSpread from\"/home/oem/Desktop/MITOS/mitosElectronics/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/oem/Desktop/MITOS/mitosElectronics/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateProduct=function CreateProduct(){var _useState=useState({name:\"\",price:0,description:\"\",stock:0,category:\"\",// Category ID will be stored here\nimage:null}),_useState2=_slicedToArray(_useState,2),productData=_useState2[0],setProductData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),categories=_useState4[0],setCategories=_useState4[1];useEffect(function(){// Fetch available categories\naxios.get(\"http://127.0.0.1:8000/api/categories/\").then(function(response){setCategories(response.data);});},[]);var handleImageChange=function handleImageChange(e){var file=e.target.files[0];setProductData(_objectSpread(_objectSpread({},productData),{},{image:file}));};var handleSubmit=function handleSubmit(e){e.preventDefault();var formData=new FormData();formData.append(\"name\",productData.name);formData.append(\"price\",productData.price);formData.append(\"description\",productData.description);formData.append(\"stock\",productData.stock);formData.append(\"category\",productData.category);formData.append(\"image\",productData.image);// Post the product data to the server\naxios.post(\"http://127.0.0.1:8000/api/electronics/create/\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(response){console.log(\"Product created:\",response.data);// Redirect to products page after successful creation\nwindow.location.href=\"/view_products\";}).catch(function(error){console.error(\"Error creating product:\",error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4 text-center\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"text-dark mr-5\",children:/*#__PURE__*/_jsx(\"i\",{className:\"text-warning fas fa-arrow-left mr-5\"})}),\" \",\"Create Product\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:productData.name,onChange:function onChange(e){return setProductData(_objectSpread(_objectSpread({},productData),{},{name:e.target.value}));},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Price:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:productData.price,onChange:function onChange(e){return setProductData(_objectSpread(_objectSpread({},productData),{},{price:e.target.value}));},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:productData.description,onChange:function onChange(e){return setProductData(_objectSpread(_objectSpread({},productData),{},{description:e.target.value}));},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Stock:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:productData.stock,onChange:function onChange(e){return setProductData(_objectSpread(_objectSpread({},productData),{},{stock:e.target.value}));},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:productData.category,onChange:function onChange(e){return setProductData(_objectSpread(_objectSpread({},productData),{},{category:e.target.value}));},required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select a category\"}),categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category.id,children:category.name},category.id);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Image:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",accept:\"image/*\",onChange:handleImageChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Create\"})]})]});};export default CreateProduct;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","CreateProduct","_useState","name","price","description","stock","category","image","_useState2","_slicedToArray","productData","setProductData","_useState3","_useState4","categories","setCategories","get","then","response","data","handleImageChange","e","file","target","files","_objectSpread","handleSubmit","preventDefault","formData","FormData","append","post","headers","console","log","window","location","href","catch","error","className","children","to","onSubmit","type","value","onChange","required","disabled","map","id","accept"],"sources":["/home/oem/Desktop/MITOS/mitosElectronics/frontend/src/pages/admin_pages/CreateProduct.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst CreateProduct = () => {\n  const [productData, setProductData] = useState({\n    name: \"\",\n    price: 0,\n    description: \"\",\n    stock: 0,\n    category: \"\", // Category ID will be stored here\n    image: null,\n  });\n\n  const [categories, setCategories] = useState([]);\n\n  useEffect(() => {\n    // Fetch available categories\n    axios.get(\"http://127.0.0.1:8000/api/categories/\").then((response) => {\n      setCategories(response.data);\n    });\n  }, []);\n\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    setProductData({ ...productData, image: file });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"name\", productData.name);\n    formData.append(\"price\", productData.price);\n    formData.append(\"description\", productData.description);\n    formData.append(\"stock\", productData.stock);\n    formData.append(\"category\", productData.category);\n    formData.append(\"image\", productData.image);\n\n    // Post the product data to the server\n    axios\n      .post(\"http://127.0.0.1:8000/api/electronics/create/\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      })\n      .then((response) => {\n        console.log(\"Product created:\", response.data);\n        // Redirect to products page after successful creation\n        window.location.href = \"/view_products\";\n      })\n      .catch((error) => {\n        console.error(\"Error creating product:\", error);\n      });\n  };\n\n  return (\n    <div className=\"container mt-4 text-center\">\n      <h2>\n        <Link to=\"/admin\" className=\"text-dark mr-5\">\n          <i className=\"text-warning fas fa-arrow-left mr-5\"></i>\n        </Link>{\" \"}\n        Create Product\n      </h2>\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={productData.name}\n            onChange={(e) =>\n              setProductData({ ...productData, name: e.target.value })\n            }\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Price:</label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            value={productData.price}\n            onChange={(e) =>\n              setProductData({ ...productData, price: e.target.value })\n            }\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Description:</label>\n          <textarea\n            className=\"form-control\"\n            value={productData.description}\n            onChange={(e) =>\n              setProductData({ ...productData, description: e.target.value })\n            }\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Stock:</label>\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            value={productData.stock}\n            onChange={(e) =>\n              setProductData({ ...productData, stock: e.target.value })\n            }\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Category:</label>\n          <select\n            className=\"form-control\"\n            value={productData.category}\n            onChange={(e) =>\n              setProductData({ ...productData, category: e.target.value })\n            }\n            required\n          >\n            <option value=\"\" disabled>\n              Select a category\n            </option>\n            {categories.map((category) => (\n              <option key={category.id} value={category.id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label>Image:</label>\n          <input\n            type=\"file\"\n            className=\"form-control\"\n            accept=\"image/*\"\n            onChange={handleImageChange}\n            required\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Create\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}