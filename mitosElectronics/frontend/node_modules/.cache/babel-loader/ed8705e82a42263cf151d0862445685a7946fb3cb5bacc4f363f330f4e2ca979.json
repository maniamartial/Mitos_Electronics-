{"ast":null,"code":"import _slicedToArray from\"/home/oem/Desktop/MITOS/mitosElectronics/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductList=function ProductList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];useEffect(function(){// Fetch all products\naxios.get(\"http://127.0.0.1:8000/api/electronics/\").then(function(response){setProducts(response.data);});},[]);// Function to delete a product\nvar handleDelete=function handleDelete(productId){axios.delete(\"http://127.0.0.1:8000/api/electronics/\".concat(productId)).then(function(response){console.log(\"Product deleted:\",response.data);// Remove the deleted product from the list\nsetProducts(products.filter(function(product){return product.id!==productId;}));}).catch(function(error){console.error(\"Error deleting product:\",error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4 text-center\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/admin\",className:\"text-dark mr-5\",children:/*#__PURE__*/_jsx(\"i\",{className:\"text-warning fas fa-arrow-left mr-5\"})}),\" \",\"Products\"]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.stock}),/*#__PURE__*/_jsx(\"td\",{children:product.price}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/update-product/\".concat(product.id),className:\"btn btn-primary btn-sm mr-2\",children:\"Update\"}),\" \",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:function onClick(){return handleDelete(product.id);},children:\"Delete\"})]})]},product.id);})})]}),/*#__PURE__*/_jsx(Link,{to:\"/create-product\",className:\"btn btn-success mb-3\",children:\"Create Product\"})]});};export default ProductList;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","jsx","_jsx","jsxs","_jsxs","ProductList","_useState","_useState2","_slicedToArray","products","setProducts","get","then","response","data","handleDelete","productId","delete","concat","console","log","filter","product","id","catch","error","className","children","to","map","name","stock","price","onClick"],"sources":["/home/oem/Desktop/MITOS/mitosElectronics/frontend/src/pages/admin_pages/ProductList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst ProductList = () => {\n  const [products, setProducts] = useState([]);\n\n  useEffect(() => {\n    // Fetch all products\n    axios.get(\"http://127.0.0.1:8000/api/electronics/\").then((response) => {\n      setProducts(response.data);\n    });\n  }, []);\n\n  // Function to delete a product\n  const handleDelete = (productId) => {\n    axios\n      .delete(`http://127.0.0.1:8000/api/electronics/${productId}`)\n      .then((response) => {\n        console.log(\"Product deleted:\", response.data);\n        // Remove the deleted product from the list\n        setProducts(products.filter((product) => product.id !== productId));\n      })\n      .catch((error) => {\n        console.error(\"Error deleting product:\", error);\n      });\n  };\n\n  return (\n    <div className=\"container mt-4 text-center\">\n      <h2>\n        <Link to=\"/admin\" className=\"text-dark mr-5\">\n          <i className=\"text-warning fas fa-arrow-left mr-5\"></i>\n        </Link>{\" \"}\n        Products\n      </h2>\n      <table className=\"table table-striped\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Stock</th>\n            <th>Price</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {products.map((product) => (\n            <tr key={product.id}>\n              <td>{product.name}</td>\n              <td>{product.stock}</td>\n              <td>{product.price}</td>\n              <td>\n                <Link\n                  to={`/update-product/${product.id}`}\n                  className=\"btn btn-primary btn-sm mr-2\"\n                >\n                  Update\n                </Link>{\" \"}\n                <button\n                  className=\"btn btn-danger btn-sm\"\n                  onClick={() => handleDelete(product.id)}\n                >\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <Link to=\"/create-product\" className=\"btn btn-success mb-3\">\n        Create Product\n      </Link>\n    </div>\n  );\n};\n\nexport default ProductList;\n"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxB,IAAAC,SAAA,CAAgCT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE5BT,SAAS,CAAC,UAAM,CACd;AACAC,KAAK,CAACY,GAAG,CAAC,wCAAwC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CACrEH,WAAW,CAACG,QAAQ,CAACC,IAAI,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,SAAS,CAAK,CAClCjB,KAAK,CACFkB,MAAM,0CAAAC,MAAA,CAA0CF,SAAS,CAAE,CAAC,CAC5DJ,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBM,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEP,QAAQ,CAACC,IAAI,CAAC,CAC9C;AACAJ,WAAW,CAACD,QAAQ,CAACY,MAAM,CAAC,SAACC,OAAO,QAAK,CAAAA,OAAO,CAACC,EAAE,GAAKP,SAAS,GAAC,CAAC,CACrE,CAAC,CAAC,CACDQ,KAAK,CAAC,SAACC,KAAK,CAAK,CAChBN,OAAO,CAACM,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CAAC,CAAC,CACN,CAAC,CAED,mBACErB,KAAA,QAAKsB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzCvB,KAAA,OAAAuB,QAAA,eACEzB,IAAA,CAACF,IAAI,EAAC4B,EAAE,CAAC,QAAQ,CAACF,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC1CzB,IAAA,MAAGwB,SAAS,CAAC,qCAAqC,CAAI,CAAC,CACnD,CAAC,CAAC,GAAG,CAAC,UAEd,EAAI,CAAC,cACLtB,KAAA,UAAOsB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eACpCzB,IAAA,UAAAyB,QAAA,cACEvB,KAAA,OAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAI,MAAI,CAAI,CAAC,cACbzB,IAAA,OAAAyB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdzB,IAAA,OAAAyB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdzB,IAAA,OAAAyB,QAAA,CAAI,SAAO,CAAI,CAAC,EACd,CAAC,CACA,CAAC,cACRzB,IAAA,UAAAyB,QAAA,CACGlB,QAAQ,CAACoB,GAAG,CAAC,SAACP,OAAO,qBACpBlB,KAAA,OAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAKL,OAAO,CAACQ,IAAI,CAAK,CAAC,cACvB5B,IAAA,OAAAyB,QAAA,CAAKL,OAAO,CAACS,KAAK,CAAK,CAAC,cACxB7B,IAAA,OAAAyB,QAAA,CAAKL,OAAO,CAACU,KAAK,CAAK,CAAC,cACxB5B,KAAA,OAAAuB,QAAA,eACEzB,IAAA,CAACF,IAAI,EACH4B,EAAE,oBAAAV,MAAA,CAAqBI,OAAO,CAACC,EAAE,CAAG,CACpCG,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACxC,QAED,CAAM,CAAC,CAAC,GAAG,cACXzB,IAAA,WACEwB,SAAS,CAAC,uBAAuB,CACjCO,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAlB,YAAY,CAACO,OAAO,CAACC,EAAE,CAAC,EAAC,CAAAI,QAAA,CACzC,QAED,CAAQ,CAAC,EACP,CAAC,GAjBEL,OAAO,CAACC,EAkBb,CAAC,EACN,CAAC,CACG,CAAC,EACH,CAAC,cACRrB,IAAA,CAACF,IAAI,EAAC4B,EAAE,CAAC,iBAAiB,CAACF,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAC,gBAE5D,CAAM,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}