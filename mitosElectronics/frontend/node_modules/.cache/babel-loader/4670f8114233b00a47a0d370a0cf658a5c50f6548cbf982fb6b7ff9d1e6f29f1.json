{"ast":null,"code":"import _toConsumableArray from\"/home/oem/Desktop/MITOS/mitosElectronics/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/oem/Desktop/MITOS/mitosElectronics/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import{useParams}from\"react-router-dom\";import useProducts from\"../hooks/useProducts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductsByCategory=function ProductsByCategory(){var _useParams=useParams(),categoryId=_useParams.categoryId;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),categoryName=_useState2[0],setCategoryName=_useState2[1];var products=useProducts();var _useState3=useState(\"none\"),_useState4=_slicedToArray(_useState3,2),filterOption=_useState4[0],setFilterOption=_useState4[1];// State for filter option\nvar _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filteredProducts=_useState6[0],setFilteredProducts=_useState6[1];// State for filtered products\n// Fetch the category name based on the categoryId\nuseEffect(function(){fetch(\"http://127.0.0.1:8000/api/categories/\".concat(categoryId,\"/\")).then(function(response){return response.json();}).then(function(data){return setCategoryName(data.name);}).catch(function(error){return console.error(\"Error fetching category name:\",error);});},[categoryId]);// Filter products based on the categoryId\nvar categoryProducts=products.filter(function(product){return product.category===parseInt(categoryId);});// Apply filter based on selected option\nuseEffect(function(){if(filterOption===\"lowToHigh\"){var sortedProducts=_toConsumableArray(categoryProducts).sort(function(a,b){return a.price-b.price;});setFilteredProducts(sortedProducts);}else if(filterOption===\"highToLow\"){var _sortedProducts=_toConsumableArray(categoryProducts).sort(function(a,b){return b.price-a.price;});setFilteredProducts(_sortedProducts);}else{setFilteredProducts(categoryProducts);}},[filterOption,categoryProducts]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mt-5\",children:categoryName}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center mb-3\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Filter by Price:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"filterOptions\",id:\"lowToHigh\",value:\"lowToHigh\",checked:filterOption===\"lowToHigh\",onChange:function onChange(){return setFilterOption(\"lowToHigh\");}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"lowToHigh\",children:\"Low to High\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"filterOptions\",id:\"highToLow\",value:\"highToLow\",checked:filterOption===\"highToLow\",onChange:function onChange(){return setFilterOption(\"highToLow\");}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"highToLow\",children:\"High to Low\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"radio\",name:\"filterOptions\",id:\"none\",value:\"none\",checked:filterOption===\"none\",onChange:function onChange(){return setFilterOption(\"none\");}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"none\",children:\"No Filter\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-3\",children:filteredProducts.map(function(product,index){return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 col-md-4 col-sm-6 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card position-relative\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,className:\"card-img-top img-fluid\",style:{width:\"100%\",height:\"200px\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"stock-badge position-absolute\",style:{right:\"10px\",top:\"10px\",padding:\"5px\",background:\"yellow\"},children:product.stock}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"$\",product.price]})]})]})},index);})})]});};export default ProductsByCategory;","map":{"version":3,"names":["React","useState","useEffect","useParams","useProducts","jsx","_jsx","jsxs","_jsxs","ProductsByCategory","_useParams","categoryId","_useState","_useState2","_slicedToArray","categoryName","setCategoryName","products","_useState3","_useState4","filterOption","setFilterOption","_useState5","_useState6","filteredProducts","setFilteredProducts","fetch","concat","then","response","json","data","name","catch","error","console","categoryProducts","filter","product","category","parseInt","sortedProducts","_toConsumableArray","sort","a","b","price","className","children","type","id","value","checked","onChange","htmlFor","map","index","src","image","alt","style","width","height","right","top","padding","background","stock"],"sources":["/home/oem/Desktop/MITOS/mitosElectronics/frontend/src/pages/ProductByCategory.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { useParams } from \"react-router-dom\";\nimport useProducts from \"../hooks/useProducts\";\n\nconst ProductsByCategory = () => {\n  const { categoryId } = useParams();\n  const [categoryName, setCategoryName] = useState(\"\");\n  const products = useProducts();\n  const [filterOption, setFilterOption] = useState(\"none\"); // State for filter option\n  const [filteredProducts, setFilteredProducts] = useState([]); // State for filtered products\n\n  // Fetch the category name based on the categoryId\n  useEffect(() => {\n    fetch(`http://127.0.0.1:8000/api/categories/${categoryId}/`)\n      .then((response) => response.json())\n      .then((data) => setCategoryName(data.name))\n      .catch((error) => console.error(\"Error fetching category name:\", error));\n  }, [categoryId]);\n\n  // Filter products based on the categoryId\n  const categoryProducts = products.filter(\n    (product) => product.category === parseInt(categoryId)\n  );\n\n  // Apply filter based on selected option\n  useEffect(() => {\n    if (filterOption === \"lowToHigh\") {\n      const sortedProducts = [...categoryProducts].sort(\n        (a, b) => a.price - b.price\n      );\n      setFilteredProducts(sortedProducts);\n    } else if (filterOption === \"highToLow\") {\n      const sortedProducts = [...categoryProducts].sort(\n        (a, b) => b.price - a.price\n      );\n      setFilteredProducts(sortedProducts);\n    } else {\n      setFilteredProducts(categoryProducts);\n    }\n  }, [filterOption, categoryProducts]);\n\n  return (\n    <div className=\"container\">\n      <h2 className=\"text-center mt-5\">{categoryName}</h2>\n      <div className=\"d-flex justify-content-between align-items-center mb-3\">\n        <h5>Filter by Price:</h5>\n        <div className=\"form-check\">\n          <input\n            className=\"form-check-input\"\n            type=\"radio\"\n            name=\"filterOptions\"\n            id=\"lowToHigh\"\n            value=\"lowToHigh\"\n            checked={filterOption === \"lowToHigh\"}\n            onChange={() => setFilterOption(\"lowToHigh\")}\n          />\n          <label className=\"form-check-label\" htmlFor=\"lowToHigh\">\n            Low to High\n          </label>\n        </div>\n        <div className=\"form-check\">\n          <input\n            className=\"form-check-input\"\n            type=\"radio\"\n            name=\"filterOptions\"\n            id=\"highToLow\"\n            value=\"highToLow\"\n            checked={filterOption === \"highToLow\"}\n            onChange={() => setFilterOption(\"highToLow\")}\n          />\n          <label className=\"form-check-label\" htmlFor=\"highToLow\">\n            High to Low\n          </label>\n        </div>\n        <div className=\"form-check\">\n          <input\n            className=\"form-check-input\"\n            type=\"radio\"\n            name=\"filterOptions\"\n            id=\"none\"\n            value=\"none\"\n            checked={filterOption === \"none\"}\n            onChange={() => setFilterOption(\"none\")}\n          />\n          <label className=\"form-check-label\" htmlFor=\"none\">\n            No Filter\n          </label>\n        </div>\n      </div>\n      <div className=\"row mt-3\">\n        {filteredProducts.map((product, index) => (\n          <div key={index} className=\"col-lg-3 col-md-4 col-sm-6 mb-4\">\n            <div className=\"card position-relative\">\n              <img\n                src={product.image}\n                alt={product.name}\n                className=\"card-img-top img-fluid\"\n                style={{ width: \"100%\", height: \"200px\" }}\n              />\n              <div\n                className=\"stock-badge position-absolute\"\n                style={{\n                  right: \"10px\",\n                  top: \"10px\",\n                  padding: \"5px\",\n                  background: \"yellow\",\n                }}\n              >\n                {product.stock}\n              </div>\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{product.name}</h5>\n                <p className=\"card-text\">${product.price}</p>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductsByCategory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}