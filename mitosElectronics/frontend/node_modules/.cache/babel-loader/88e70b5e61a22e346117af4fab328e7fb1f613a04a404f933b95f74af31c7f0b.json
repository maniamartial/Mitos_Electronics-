{"ast":null,"code":"import _defineProperty from\"/home/oem/Desktop/MITOS/mitosElectronics/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/oem/Desktop/MITOS/mitosElectronics/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/oem/Desktop/MITOS/mitosElectronics/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormData(function(prevData){return _objectSpread(_objectSpread({},prevData),{},_defineProperty({},name,value));});};var handleSubmit=function handleSubmit(event){event.preventDefault();fetch(\"http://127.0.0.1:8000/api/auth/login/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)}).then(function(response){return response.json();}).then(function(data){// Assuming you receive a token in the response\nvar token=data.token;// Store the token in localStorage or a state management system\n// (e.g., Redux or Context API)\n// After successful login, navigate to the home page\nnavigate(\"/admin\");}).catch(function(error){console.error(\"Login error:\",error);// Handle login error\n});};return/*#__PURE__*/_jsx(\"div\",{className:\"container d-flex justify-content-center align-items-center min-vh-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mt-5\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{minHeight:\"350px\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:formData.username,onChange:handleChange,className:\"form-control\",placeholder:\"Username\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,className:\"form-control\",placeholder:\"Password\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:\"Login\"})})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","navigate","_useState","username","password","_useState2","_slicedToArray","formData","setFormData","handleChange","event","_event$target","target","name","value","prevData","_objectSpread","_defineProperty","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","token","catch","error","console","className","children","onSubmit","style","minHeight","type","onChange","placeholder"],"sources":["/home/oem/Desktop/MITOS/mitosElectronics/frontend/src/pages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Login = () => {\n  const navigate = useNavigate();\n\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormData((prevData) => ({ ...prevData, [name]: value }));\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    fetch(\"http://127.0.0.1:8000/api/auth/login/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(formData),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        // Assuming you receive a token in the response\n        const token = data.token;\n\n        // Store the token in localStorage or a state management system\n        // (e.g., Redux or Context API)\n\n        // After successful login, navigate to the home page\n        navigate(\"/admin\");\n      })\n      .catch((error) => {\n        console.error(\"Login error:\", error);\n        // Handle login error\n      });\n  };\n\n  return (\n    <div className=\"container d-flex justify-content-center align-items-center min-vh-100\">\n      <div className=\"col-md-6\">\n        <h2 className=\"text-center mt-5\">Login</h2>\n        <form onSubmit={handleSubmit} style={{ minHeight: \"350px\" }}>\n          <div className=\"mb-3\">\n            <input\n              type=\"text\"\n              name=\"username\"\n              value={formData.username}\n              onChange={handleChange}\n              className=\"form-control\"\n              placeholder=\"Username\"\n            />\n          </div>\n          <div className=\"mb-3\">\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={formData.password}\n              onChange={handleChange}\n              className=\"form-control\"\n              placeholder=\"Password\"\n            />\n          </div>\n          <div className=\"d-grid\">\n            <button type=\"submit\" className=\"btn btn-success\">\n              Login\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}